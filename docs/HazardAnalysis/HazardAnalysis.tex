\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage[letterpaper, portrait, margin=1in]{geometry}

\usepackage[round]{natbib}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{xcolor}
\usepackage{blindtext}
\usepackage{enumitem}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\newcommand{\lips}{\textit{Insert your content here.}}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
Date1 & Name(s) & Description of changes\\
Date2 & Name(s) & Description of changes\\
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}



\section{Introduction}

\subsection{Problem Statement}
The Information and Communications Technology (ICT) sector is currently responsible
for approximately 2-4\% of global CO2 emissions, a figure projected to rise to 14\% 
by 2040 without intervention ~\citep{BelkhirAndElmeligi2018}. To align with broader 
economic sustainability goals, the ICT industry must reduce its CO2 emissions by 72\% 
by 2040 ~\citep{FreitagAndBernersLee2021}. Optimizing energy consumption in software 
systems is a complex task that cannot rely solely on software engineers, who often 
face strict deadlines and busy schedules. This creates a pressing need for supporting 
technologies that help automate this process. This project aims to develop a tool that 
applies automated refactoring techniques to optimize Python code for energy efficiency 
while preserving its original functionality. 

\subsection{Hazard Analysis Introduction}

A hazard is defined as a property or condition in the system, 
combined with a condition in the environment, that has the potential to cause harm 
or damage—referred to as loss ~\citep{Leveson2021}. In software development, hazards can take various 
forms beyond just safety hazards, including security risks, usability challenges, 
incorrect inputs, or technical limitations like lack of internet connectivity.
\\

This project focuses on developing an automated tool to refactor Python code 
for energy efficiency while preserving its original functionality. While this 
initiative holds significant potential for reducing CO2 emissions in the 
Information and Communications Technology (ICT) sector, it also introduces 
various hazards. These hazards could arise from technical shortcomings, ethical 
challenges, or the inadvertent introduction of new problems during the refactoring 
process. This hazard analysis aims to identify and assess these risks to ensure 
the successful development and adoption of the tool.

\section{Scope and Purpose of Hazard Analysis}

The scope of this hazard analysis covers the potential risks and losses associated 
with the automated refactoring tool throughout its lifecycle. The primary hazards include:

\begin{itemize}

    \item \textbf{Technical Failures}: Inaccurate refactorings, undetected code 
    smells, or energy optimization that does not meet its intended goals could 
    result in performance issues or loss of functionality. 

    \item \textbf{Security Risks}: The automated nature of the tool may introduce 
    security vulnerabilities, particularly if the refactorings unintentionally 
    affect the security posture of the original code.

    \item \textbf{User Insensitivity}: If the tool is not designed with the users 
    in mind, it could disrupt developer workflows or lead to the rejection of the 
    tool. This can result in loss of productivity or missed opportunities for 
    energy efficiency.

    \item \textbf{External Conditions}: The tool’s dependency on environmental 
    factors, such as the availability of internet connection or access to 
    third-party libraries, could limit its usefulness in certain scenarios. 
    This can lead to delays or failures in the refactoring process.

\end{itemize}

The purpose of this analysis is to identify these hazards, assess their potential 
impact, and outline strategies for mitigating them. By doing so, we aim to prevent 
losses related to time, resources, security, and the overall effectiveness of the 
tool, ensuring that it contributes positively to reducing the ICT sector's energy 
consumption and CO2 emissions.

\section{System Boundaries and Components}

The system boundary refers to the library being developed and its core constituent modules, as well as peripheral tools that serve to expand on the system's utility and usability. \\

It is also important to make note of elements not controlled by the development team such as the database, the physical computer that will run the system, and any cloud hosting platforms used to utilize the system on a greater scale.

\subsection{Core Modules}

\subsubsection*{Energy Measurement Module}
This module tracks and analyzes the energy consumption of the software being refactored, providing detailed metrics that help assess the efficiency of the code before and after refactoring. External tools will be used to implement this module with the primary one being pyJoules\footnote{A python library that energies the energy footprint of a host machine.}. Other libraries may be added should the need arise. 

\subsubsection*{Testing Module}
The testing module runs automated tests on the refactored code to ensure that the functionality remains intact and that no errors are introduced during the refactoring process. Testing will be done through AST\footnote{Abstract Syntax Tree: a data structure used to represent the structure of a program.} parsing and any provided tests from the user.

\subsubsection*{Refactoring module}
This core module identifies code smells and inefficiencies in the original code and suggests or applies appropriate refactorings to optimize the code for better performance and energy efficiency. Refactoring will be done through a mix of custom-made refactoring strategies and with the help of the python library, Rope.

\subsubsection*{Reinforcement Learning Model}
The reinforcement learning model uses data from previous refactorings to improve its suggestions, helping the system learn and refine its refactoring strategies based on outcomes and energy consumption metrics. The model shall be built with the help of the machine learning library, PyTorch.

\subsection{Peripherals}

\subsubsection*{Visual Studio Code (VS Code) Extension}
The VS Code extension provides a user-friendly interface within the IDE\footnote{Integrated Development Environment}, allowing developers to interact with the refactoring tool, view energy consumption metrics, and apply refactorings suggestions directly from their development environment.

\subsubsection*{GitHub Action}
The GitHub Action automates the refactoring process within CI/CD workflows, applying refactoring suggestions and running energy consumption analyses during code integration, ensuring consistent energy-efficient practices.

\subsubsection*{Web Client}
The web client offers a user interface that allows users to interact with the refactoring system remotely, enabling them to view energy consumption reports, and track performance metrics from a browser.

\section{Critical Assumptions}

\wss{These assumptions that are made about the software or system.  You should
minimize the number of assumptions that remove potential hazards.  For instance,
you could assume a part will never fail, but it is generally better to include
this potential failure mode.}

\section{Failure Mode and Effect Analysis}

\wss{Include your FMEA table here. This is the most important part of this document.}
\wss{The safety requirements in the table do not have to have the prefix SR.
The most important thing is to show traceability to your SRS. You might trace to
requirements you have already written, or you might need to add new
requirements.}
\wss{If no safety requirement can be devised, other mitigation strategies can be
entered in the table, including strategies involving providing additional
documentation, and/or test cases.}

\section{Safety and Security Requirements}
Requirements that should have been included in Revision 0 of the System Requirements document are written in \textbf{bold}.

\subsection{Access Requirements}
\begin{enumerate}[label=SR-AP \arabic*., wide=0pt, leftmargin=*]
    \item \emph{\textbf{The energy analysis log must include which processes were measured to avoid including background tasks unintentionally.}}\\[2mm]
    \textbf{Rationale:} This ensures only relevant processes are accurately included in energy measurements, leading to more precise analysis.\\
    \textbf{Associated Hazards:} \\
    \textbf{Priority:} High
\end{enumerate}

\subsection{Integrity Requirements}
\begin{enumerate}[label=SR-IN \arabic*., wide=0pt, leftmargin=*]
    \item \emph{Refactorings must result in energy savings, validated against energy consumption statistics before applying the changes.}\\[2mm]
    {\bf Rationale:} Ensures that refactorings improve energy efficiency.\\
    {\bf Associated Hazards:} \\
    {\bf Priority:} High
    \item \emph{The system must validate that refactorings preserve the original functionality and correctness of the code.}\\[2mm]
    {\bf Rationale:} Ensures that refactorings do not introduce bugs or functional changes.\\
    {\bf Associated Hazards:} \\
    {\bf Priority:} High
    \item \emph{\textbf{The reinforcement learning model must be audited regularly to detect and prevent bias, ensuring fair refactorings.}}\\[2mm]
    {\bf Rationale:} Prevents bias in the learning model, ensuring effective refactorings.\\
    {\bf Associated Hazards:} \\
    {\bf Priority:} Medium
\end{enumerate}

\subsection{Availability and Performance Requirements}
\begin{enumerate}[label=SR-AV \arabic*., wide=0pt, leftmargin=*]
    \item \emph{\textbf{Implement process-level tracking to distinguish between Python code and background tasks during energy measurement.}}\\[2mm]
    {\bf Rationale:} This prevents irrelevant tasks from affecting energy measurement results.\\
    {\bf Associated Hazards:} \\
    {\bf Priority:} High
    \item \emph{\textbf{Garbage collection or memory deallocation should occur after each refactoring step to prevent memory leaks.}}\\[2mm]
    {\bf Rationale:} Prevents performance issues or crashes due to excessive memory use.\\
    {\bf Associated Hazards:} \\
    {\bf Priority:} Medium
\end{enumerate}

\subsection{Privacy Requirements}
\begin{enumerate}[label=SR-PR \arabic*., wide=0pt, leftmargin=*]
    \item \emph{\textbf{Process isolation must be ensured so that only relevant processes are analyzed for energy consumption.}}\\[2mm]
    {\bf Rationale:} Protects the user's privacy and ensures relevant data is analyzed.\\
    {\bf Associated Hazards:} \\
    {\bf Priority:} High
\end{enumerate}

\subsection{Usability and Training Requirements}
\begin{enumerate}[label=SR-UT \arabic*., wide=0pt, leftmargin=*]
    \item \emph{The interface should undergo user testing to refine its design and reduce user frustration.}\\[2mm]
    {\bf Rationale:} A well-designed interface reduces user errors and improves user satisfaction.\\
    {\bf Associated Hazards:} \\
    {\bf Priority:} Medium
    \item \emph{Provide comprehensive user manuals and video tutorials to guide users.}\\[2mm]
    {\bf Rationale:} Ensures that users understand how to effectively use the tool.\\
    {\bf Associated Hazards:} \\
    {\bf Priority:} Medium
\end{enumerate}

\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

\newpage{}

\section*{Appendix --- Reflection}

\subsubsection*{Nivetha Kuruparan}

\begin{enumerate}
  \item \textit{What went well while writing this deliverable?}
  
  \lips

  \item \textit{What pain points did you experience during this deliverable, and how did you resolve them?}
  
  \lips

\end{enumerate}

\subsubsection*{Sevhena Walker}

\begin{enumerate}
  \item \textit{What went well while writing this deliverable?}
  
  One thing that went really well during the hazard analysis was how it helped me catch issues I’d originally missed. The structured process made it easier to step back and look at our project from a different perspective, which helped highlight potential risks I hadn’t thought of before. 

  \item \textit{What pain points did you experience during this deliverable, and how did you resolve them?}
  
  I'll be honest the worst part of this deliverable was formatting the FMEA table in latex. It doesn't seem right to talk about pain points without mentioning the one thing that truly had me pulling my hair out. In terms of the actual content of the deliverable, brainstorming hazards was challenging, but not exactly a pain. The challenging part was coming up with solution or mitigating actions to counter those hazards. Some components, like the reinforcement model, I have truly no experience with and its pretty hard to come up with solutions to risks you have never even experienced, let alone thought of. 
  
\end{enumerate}

\subsubsection*{Tanveer Brar}

\begin{enumerate}
  \item \textit{What went well while writing this deliverable?}
  
  \lips

  \item \textit{What pain points did you experience during this deliverable, and how did you resolve them?}
  
  \lips

\end{enumerate}

\subsubsection*{Mya Hussain}

\begin{enumerate}
  \item \textit{What went well while writing this deliverable?}
  
  \lips

  \item \textit{What pain points did you experience during this deliverable, and how did you resolve them?}
  
  \lips

\end{enumerate}

\subsubsection*{Ayushi Amin}

\begin{enumerate}
  \item \textit{What went well while writing this deliverable?}
  
  \lips

  \item \textit{What pain points did you experience during this deliverable, and how did you resolve them?}
  
  \lips

\end{enumerate}

\subsubsection*{Group Answer}

\begin{enumerate}
    \item[3.] \textit{Which of your listed risks had your team thought of before this deliverable, and which did you think of while doing this deliverable? For the latter ones (ones you thought of while doing the Hazard Analysis), how did they come about?}
    
    \lips

    \item[4.] \textit{Other than the risk of physical harm (some projects may not have any appreciable risks of this form),
    list at least 2 other types of risk in software products. Why are they important to consider?}

    \lips

\end{enumerate}

\bibliographystyle {plainnat}
\bibliography{../../refs/References}

\end{document}